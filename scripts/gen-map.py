"""Generate the EMOJI_TO_PUA map and PUA range for pdf-exporter.js"""

# Same list from build-font.py â€” must stay in sync
EMOJI_CODEPOINTS = [
    0x231A, 0x231B, 0x2328,
    0x23E9, 0x23EA, 0x23EB, 0x23EC, 0x23F0, 0x23F3,
    0x2600, 0x2601, 0x2602, 0x2603, 0x2604,
    0x2611, 0x2614, 0x2615, 0x2618, 0x261D,
    0x2620, 0x2622, 0x2623, 0x2626, 0x262A, 0x262E, 0x262F,
    0x2638, 0x2639, 0x263A, 0x2640, 0x2642,
    0x2648, 0x2649, 0x264A, 0x264B, 0x264C, 0x264D, 0x264E, 0x264F,
    0x2650, 0x2651, 0x2652, 0x2653,
    0x265F, 0x2660, 0x2663, 0x2665, 0x2666, 0x2668,
    0x267B, 0x267E, 0x267F,
    0x2692, 0x2693, 0x2694, 0x2695, 0x2696, 0x2697,
    0x2699, 0x269B, 0x269C, 0x26A0, 0x26A1,
    0x26AA, 0x26AB, 0x26B0, 0x26B1, 0x26BD, 0x26BE,
    0x26C4, 0x26C5, 0x26CE, 0x26CF, 0x26D1, 0x26D3, 0x26D4,
    0x26E9, 0x26EA,
    0x26F0, 0x26F1, 0x26F2, 0x26F3, 0x26F4, 0x26F5,
    0x26F7, 0x26F8, 0x26F9, 0x26FA, 0x26FD,
    0x2702, 0x2705, 0x2708, 0x2709,
    0x270A, 0x270B, 0x270C, 0x270D, 0x270F,
    0x2712, 0x2714, 0x2716, 0x271D, 0x2721, 0x2728,
    0x2733, 0x2734, 0x2744, 0x2747,
    0x274C, 0x274E, 0x2753, 0x2754, 0x2755, 0x2757,
    0x2763, 0x2764, 0x2795, 0x2796, 0x2797, 0x27A1,
    0x27B0, 0x27BF, 0x2934, 0x2935,
    0x2B05, 0x2B06, 0x2B07, 0x2B1B, 0x2B1C, 0x2B50, 0x2B55,
    0x1F600, 0x1F601, 0x1F602, 0x1F603, 0x1F604, 0x1F605, 0x1F606, 0x1F607,
    0x1F608, 0x1F609, 0x1F60A, 0x1F60B, 0x1F60C, 0x1F60D, 0x1F60E, 0x1F60F,
    0x1F610, 0x1F611, 0x1F612, 0x1F613, 0x1F614, 0x1F615, 0x1F616, 0x1F617,
    0x1F618, 0x1F619, 0x1F61A, 0x1F61B, 0x1F61C, 0x1F61D, 0x1F61E, 0x1F61F,
    0x1F620, 0x1F621, 0x1F622, 0x1F623, 0x1F624, 0x1F625, 0x1F626, 0x1F627,
    0x1F628, 0x1F629, 0x1F62A, 0x1F62B, 0x1F62C, 0x1F62D, 0x1F62E, 0x1F62F,
    0x1F630, 0x1F631, 0x1F632, 0x1F633, 0x1F634, 0x1F635, 0x1F636, 0x1F637,
    0x1F641, 0x1F642, 0x1F643, 0x1F644,
    0x1F910, 0x1F911, 0x1F912, 0x1F913, 0x1F914, 0x1F915,
    0x1F916, 0x1F917,
    0x1F920, 0x1F921, 0x1F922, 0x1F923, 0x1F924, 0x1F925,
    0x1F927, 0x1F928, 0x1F929, 0x1F92A, 0x1F92B, 0x1F92C, 0x1F92D, 0x1F92E, 0x1F92F,
    0x1F970, 0x1F971, 0x1F973, 0x1F974, 0x1F975, 0x1F976, 0x1F97A,
    0x1F44A, 0x1F44B, 0x1F44C, 0x1F44D, 0x1F44E, 0x1F44F, 0x1F450,
    0x1F4AA,
    0x1F64B, 0x1F64C, 0x1F64D, 0x1F64E, 0x1F64F,
    0x1F91D, 0x1F91E, 0x1F91F, 0x1F932, 0x1F933,
    0x1F494, 0x1F495, 0x1F496, 0x1F497, 0x1F498, 0x1F499,
    0x1F49A, 0x1F49B, 0x1F49C, 0x1F49D, 0x1F49E, 0x1F49F,
    0x1F5A4, 0x1F9E1,
    0x1F4A1, 0x1F4A5, 0x1F4A8, 0x1F4A9, 0x1F4AA, 0x1F4AB, 0x1F4AC, 0x1F4AD,
    0x1F4AF, 0x1F4B0, 0x1F4B2, 0x1F4B5, 0x1F4B8,
    0x1F4BB, 0x1F4BC,
    0x1F4C8, 0x1F4C9, 0x1F4CA, 0x1F4CB, 0x1F4CC, 0x1F4CD, 0x1F4CE,
    0x1F4D6, 0x1F4DA, 0x1F4DD, 0x1F4E7, 0x1F4F1, 0x1F4F2,
    0x1F504, 0x1F50D, 0x1F50E,
    0x1F511, 0x1F512, 0x1F513, 0x1F517,
    0x1F525, 0x1F527, 0x1F528, 0x1F529, 0x1F52A, 0x1F52E, 0x1F52F,
    0x1F31F, 0x1F320,
    0x1F332, 0x1F333, 0x1F337, 0x1F338, 0x1F339,
    0x1F33A, 0x1F33B, 0x1F33C,
    0x1F340, 0x1F341, 0x1F342, 0x1F343,
    0x1F34E, 0x1F34F, 0x1F355, 0x1F354, 0x1F370, 0x1F382,
    0x1F381, 0x1F389, 0x1F38A, 0x1F38B,
    0x1F3AE, 0x1F3AF, 0x1F3C6, 0x1F3C8,
    0x1F680, 0x1F681, 0x1F6A8, 0x1F6AB, 0x1F6B2, 0x1F6D1,
    0x1F947, 0x1F948, 0x1F949,
    0x1F9E0, 0x1F9EE, 0x1F9F2, 0x1F9F0,
]

# Deduplicate
seen = set()
deduped = []
for cp in EMOJI_CODEPOINTS:
    if cp not in seen:
        seen.add(cp)
        deduped.append(cp)
EMOJI_CODEPOINTS = deduped

# Generate JS map
lines = []
lines.append('  EMOJI_TO_PUA: new Map([')
per_line = 4
for i in range(0, len(EMOJI_CODEPOINTS), per_line):
    chunk = EMOJI_CODEPOINTS[i:i+per_line]
    entries = [f'[0x{cp:04X}, 0x{0xE000+i+j:04X}]' for j, cp in enumerate(chunk)]
    lines.append('    ' + ', '.join(entries) + ',')
lines.append('  ]),')

print('\n'.join(lines))

max_pua = 0xE000 + len(EMOJI_CODEPOINTS) - 1
print(f'\n// PUA range: E000 - {max_pua:04X} ({len(EMOJI_CODEPOINTS)} entries)')
print(f'// isPUAEmoji check: code >= 0xE000 && code <= 0x{max_pua:04X}')
